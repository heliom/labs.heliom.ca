(function(){var b,a,c;b=(function(){var d,i,h,e,g;function f(){}e=document.documentElement;f.defaultContainers=[];f.defaultPushContainers=[];f.defaultUpdateContainers=[];if(d=e.getAttribute("data-velcro-all")){f.defaultContainers=d.split(",")}if(i=e.getAttribute("data-velcro-all-push")){f.defaultPushContainers=i.split(",")}if(h=e.getAttribute("data-velcro-all-update")){f.defaultUpdateContainers=h.split(",")}g=[];f.updateContainers=function(o,l){var j,n,k,m;$("html").addClass("velcro-loading");m=o.selectors;for(n=0,k=m.length;n<k;n++){j=m[n];$(j).addClass("velcro-loading")}return $.ajax({type:o.method||"GET",url:l,data:o.params,beforeSend:function(p){return p.setRequestHeader("X-Velcro","true")},success:function(y){var r,A,C,t,z,q,B,x,u,s,p,w,v;$("html").removeClass("velcro-loading");e=document.createElement("html");if(e.insertAdjacentHTML){e.insertAdjacentHTML("beforeend",y)}else{e.innerHTML=y}e=$(e);if((B=e.find("title")).length){document.title=B.html()}if((z=e.find('meta[name^="velcro:"]')).length){t={};for(x=0,s=z.length;x<s;x++){C=z[x];q=C.name.match(/velcro:(.+)/)[1];t[q]=C.content}$(j).trigger("velcro:state_change",t)}if((A=e.find("head")).length){$("head meta").remove();$("head").append(A.find("meta"))}if(o.selectors.length===1){if((r=e.find(j)).length){return $(j).removeClass("velcro-loading").html(r.html()).trigger("velcro:complete")}else{return $(j).removeClass("velcro-loading").html(y).trigger("velcro:complete")}}else{w=o.selectors;v=[];for(u=0,p=w.length;u<p;u++){j=w[u];v.push($(j).removeClass("velcro-loading").html(e.find(j).html()).trigger("velcro:complete"))}return v}}})};f.handleAction=function(q){var o,l,n,j,m,p,k;o=this;if(o.tagName==="A"&&(q.which>1||q.metaKey||q.ctrlKey)){return}m=[];if(o.getAttribute("data-velcro-push")){l=true;if(j=o.getAttribute("data-velcro-push")){m=j.split(",")}}else{l=false;if(j=o.getAttribute("data-velcro-update")){m=j.split(",")}}if(l&&!history.pushState){return true}p={selectors:m.concat(f.defaultContainers)};if(l){p.selectors=p.selectors.concat(f.defaultPushContainers)}else{p.selectors=p.selectors.concat(f.defaultUpdateContainers)}switch(o.tagName){case"A":k=o.href;n=k;break;case"FORM":k=o.action;p.params=$(o).serialize();if(o.method.toUpperCase()==="GET"){n=k+"?"+$(o).serialize()}else{p.method="POST";n=k}}f.updateContainers(p,k);if(l){if(g[0]!==location.href){history.replaceState(p,"",location.href)}g.unshift(n);history.pushState(p,"",n)}return false};return f})();c="a[data-velcro-update], a[data-velcro-push], a[data-velcro-replace], a[data-velcro-append]";a="form[data-velcro-update], form[data-velcro-push], form[data-velcro-replace], form[data-velcro-append]";$(document).on("click",c,b.handleAction);$(document).on("submit",a,b.handleAction);window.onpopstate=function(d){if(!d.state){return}return b.updateContainers(d.state,location.href)}}).call(this);(function(){var _this=this;$(document).on("velcro:state_change",function(e){var bodyClass;if(bodyClass=e.data.bodyClass){return document.body.className=bodyClass}});$(document).ready(function(){_this.gaugesBaseScript=$("#gauges-base-script");return _this.gaugesScript=_this.gaugesBaseScript.html()});$(document).on("velcro:complete",function(e){$("#gauges-tracker").remove();return eval(_this.gaugesScript)})}).call(this);